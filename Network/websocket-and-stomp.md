## 💡 Socket이란?

TCP/IP 프로토콜을 기반으로 맺어진 네트워크 연결 방식으로,
Server 와 Client 가 특정 Port 를 통해 연결을 유지하고 있어 실시간으로 양방향 통신을 할 수 있는 방식이다.

계속 연결을 유지하는 연결지향형 방식이기 때문에 실시간 통신이 필요한 경우에 자주 사용된다.

<br/>

<br/>

## 💡 WebSocket이란?

> **개념**
> 

웹 페이지의 한계에서 벗어나 실시간으로 상호작용하는 웹 서비스를 만드는 표준 기술 (주식, 비트코인)

<br/>

<br/>

> **배경**
> 

HTTP 프로토콜은 클라이언트에서 서버로의 단방향 통신을 위해 만들어진 방법이다.

실시간 웹을 구현하기 위해서는 양방향 통신이 가능해야 하는 데, WebSocket 이전에는 Polling, Streaming 방식의

Ajax 코드를 이용하여 이를 구현하였음.

→ 하지만 이 방법들을 이용하면 **각 브라우저마다 구현 방법이 달라 개발이 어렵다**는 문제점이 있었다.

→ 이를 위해 HTML5 표준의 일부로 WebSocket 이 만들어지게 됨!

<br/>

<br/>

> **특징**
> 
- 소켓을 이용하여 자유롭게 데이터를 주고 받을 수 있다.
- 기존의 요청-응답 관계 방식 보다 더 쉽게 데이터를 교환할 수 있다.
- 다른 HTTP Request 와 마찬가지로 80 포트를 통해 웹 서버에 연결한다.
- `http://`대신 `ws://` 로 시작하며 Streaming 과 유사한 방식으로 푸쉬를 지원한다.
- 클라이언트인 브라우저와 마찬가지로 웹 서버도 WebSocket 기능을 지원해야 한다.

<br/>

<br/>

> **장점**
> 
- HTTP Request 를 그대로 사용하기 때문에 기존의 80, 433 포트로 접속을 하므로 추가로 방화벽을 열지 않고도 양방향 통신이 가능
- HTTP 규격인 CORS 적용이나 인증 등의 과정을 기존과 동일하게 사용할 수 있다

<br/>

<br/>

## 💡 Stomp란?

`Simple Text Oriented Messaging Protocol`의 약자로, Websocket 위에서 동작하는 텍스트 기반 메세징 프로토콜이다.

Stomp는 `Publish-Subscribe` 매커니즘을 제공하여, Broker를 통해 다른 사용자들에게 메시지를 보내거나 서버가 특정 작업을 수행하도록 메세지를 보낼 수 있습니다.

<br/>

<br/>

> **WebSocket 대신 Stomp를 사용하는 이유는?**
> 

각 커넥션마다 WebSocketHandler를 구현하는 것보다 Controller Annotation이 적용된 객체를 이용해 조직적으로 관리를 할 수 있다. 

Stomp의 Destination(URI 경로)를 기반으로 Spring Security를 적용해 **메세지를 보호**할 수 있습니다.
# 3-way handshake & 4-way handshake

### π’΅ *3-way handshakeλ€?*
- TCPμ—μ„ μ •ν™•ν• μ „μ†΅μ„ λ³΄μ¥ν•λ” **μ—°κ²°μ„ μ„±λ¦½**ν•λ” κ³Όμ •μ΄λ‹¤.
- μ–‘μ½ λ¨λ‘ λ°μ΄ν„°λ¥Ό μ „μ†΅ν•  μ¤€λΉ„κ°€ λμ—λ‹¤λ” κ²ƒμ„ λ³΄μ¥ν•κΈ° μ„ν•¨μ΄λ‹¤.

<br/>

<br/>

### π’΅ *4-way handshakeλ€?*

- TCPμ **μ—°κ²°μ„ ν•΄μ **ν•λ” κ³Όμ •μ΄λ‹¤.

<br/>

<br/>

### π’΅ 3 way handshake λ™μ‘ κ³Όμ •

<img src="https://github.com/2dongyeop/TIL/blob/main/Network/image/handshake1.png" width = 900/>

1. ν΄λΌμ΄μ–ΈνΈκ°€ μ„λ²„μ—μ„ SYN ν¨ν‚·μ„ λ³΄λ‚Έλ‹¤.
2. μ„λ²„κ°€ SYN ν¨ν‚·μ„ λ°›κ³ , λ°›μ•λ‹¤λ” μ‹ νΈμΈ ACKμ™€ ν•¨κ» SYN ν¨ν‚·μ„ λ³΄λ‚Έλ‹¤.
3. ν΄λΌμ΄μ–ΈνΈλ” ACK μ‘λ‹µκ³Ό SYN ν¨ν‚·μ„ λ°›κ³ , μ„λ²„κ°€ λ³΄λ‚Έ SYNμ— λ€ν• ACKλ¥Ό λ³΄λ‚Έλ‹¤.

<br/>

<br/>

### π’΅ 4 way handshake λ™μ‘ κ³Όμ •

> *μ—°κ²° μ„±λ¦½ ν›„, λ¨λ“  ν†µμ‹ μ΄ λλ‚¬λ‹¤λ©΄ ν•΄μ  κ³Όμ •μ΄ ν•„μ”ν•λ‹¤.*


<img src="https://github.com/2dongyeop/TIL/blob/main/Network/image/handshake1.png" width = 900/>
 
1. ν΄λΌμ΄μ–ΈνΈλ” μ„λ²„μ—κ² μ—°κ²°μ„ μΆ…λ£ν•λ‹¤λ” FIN ν”λκ·Έλ¥Ό λ³΄λ‚Έλ‹¤.
2. μ„λ²„λ” FINμ„ λ°›κ³ , ν™•μΈν–λ‹¤λ” ACKλ¥Ό λ³΄λ‚Έλ‹¤.
3. λ°μ΄ν„°λ¥Ό λ¨λ‘ λ³΄λƒλ‹¤λ©΄, μ„λ²„λ” μ—°κ²°μ΄ μΆ…λ£λμ—λ‹¤λ” FIN ν”λκ·Έλ¥Ό ν΄λΌμ΄μ–ΈνΈμ—κ² λ³΄λ‚Έλ‹¤.
4. ν΄λΌμ΄μ–ΈνΈλ” FINμ„ λ°›κ³ , ν™•μΈν–λ‹¤λ” ACKλ¥Ό μ„λ²„μ—κ² λ³΄λ‚Έλ‹¤.
5. μ„λ²„λ” ACKλ¥Ό λ°›μ€ ν›„ μ†μΌ“μ„ λ‹«λ”λ‹¤.
6. μΌμ • μ‹κ°„μ΄ μ§€λ‚λ©΄ ν΄λΌμ΄μ–ΈνΈλ„ μ†μΌ“μ„ λ‹«λ”λ‹¤.

<br/>

<br/>

### π’΅ μ—°κ²° κ³Όμ •μ€ 3λ‹¨κ³„μΈλ°, μ™ μΆ…λ£ κ³Όμ •μ€ 4λ‹¨κ³„μΌκΉ?

> ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„° μ „μ†΅μ„ λ§μ³¤λ‹¤κ³  ν•λ”λΌλ„, μ„λ²„λ” μ•„μ§ λ³΄λ‚Ό λ°μ΄ν„°κ°€ λ‚¨μ•„μμ„ μ μλ‹¤.
> 
> 
> λ”°λΌμ„ μ„λ²„κ°€ μΌλ‹¨ FINμ— λ€ν• ACKλ§ λ³΄λ‚΄κ³ , λ°μ΄ν„°λ¥Ό λ¨λ‘ μ „μ†΅ν• ν›„μ— μμ‹ λ„ FIN λ©”μ‹μ§€λ¥Ό λ³΄λ‚΄κΈ° λ•λ¬Έ!
>
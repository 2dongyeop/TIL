# 파일 시스템 구현
## 💡 파일 시스템 구조 _File-System Structure

파일 시스템을 유지하기 위한 보조저장장치로 대부분 디스크가 사용되는데, 아래 두 특성이 있기 때문이다.

1. 디스크는 추가 장소를 사용하지 않고 재기록이 가능하다.
2. 디스크에 있는 임의의 블록의 정보를 직접 접근할 수 있다.

<br/>

<br/>

> ***파일 시스템**은 쉽게 데이터를 저장하고, 인출할 수  있게 함으로써 저장장치를 효율적으로 사용하게 한다.*
> 

단, 파일 시스템은 크게 두 가지의 설계 문제를 제기한다.

1. 파일 시스템이 사용자에게 어떻게 보여야 할지를 정의한다.
2. 논리 파일 시스템을 물리적인 2차 저장장치로 사상하는 알고리즘과 데이터 구조를 만드는 것이다.

<br/>

<br/>

<img src="https://github.com/2dongyeop/TIL/blob/main/OS/image/14-1.png" width = 500/>

> *파일 시스템은 여러 층으로 이루어져 있다.*
> 
- **입/출력 제어 층**
    - 장치 드라이버 루틴들과 인터럽트 핸들러로 이루어져, 메모리와 디스크 간의 정보 전송을 담당한다.
- **기본 파일 시스템**
    - 장치 드라이버에게 저장장치 상의 블록을 읽고 쓰도록 일반적인 명령을 내리는 층이다.
    - 이 층은 또한 다양한 파일 시스템, 디렉터리 및 데이터 블록을 저장하는 메모리 버퍼와 캐시를 관리한다.
- **파일-구성 모듈**
    - 파일과 상응하는 논리 블록을 알고 있는 층
    - 이 모듈은 어느 디스크 공간이 비어있는 지를 파악하는 가용 공간 관리자도 포함한다.
- **논리 파일 시스템**
    - 메타데이터 정보를 관리한다.
    - 메타데이터란? → 파일의 내용 자체인 데이터를 제외한 모든 파일 시스템 구조를 말한다.

<br/>

<br/>

> *파일 시스템 구현을 위해 계층 구조를 사용함으로써, 코드의 중복이 최소화되었다.*
> 
- 다수의 파일 시스템에 의해 I/O 제어와 때로는 기본 파일 시스템 코드가 사용될 수 있다.
- 그 경우 각 파일 시스템은 자신의 논리 파일 시스템과 파일 구조 모듈을 가지고 있다.


<br/>

<br/>
